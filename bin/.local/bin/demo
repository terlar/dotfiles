#!/usr/bin/env bash
main() {
	local port="${1-80}"
	local subdomain="${2-$USER-${PWD##*/}}"
	local username="$3"
	local password="$4"

	if [ -n "$username"  ] && [ -n "$password" ]; then
		local httpauth="-httpauth=${username}:${password}"
	fi

	ngrok -subdomain="$subdomain""$httpauth" "$port"
}

main "$@"
