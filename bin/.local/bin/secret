#!/usr/bin/env bash
set -e
set -o pipefail

main() {
	local name="${1:?missing name}"
	local secret="${2}"

	if [[ "$secret" == "" ]]; then
		pass show "$name" | head -n1
	else
		pass show "$name" | sed -rn "s/^${secret}: (.*)$/\1/p"
	fi
}

main "$@"
